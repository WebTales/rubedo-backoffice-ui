{
    "type": "Ext.window.Window",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "localiserId": "formOpenQuestionConfigurator",
        "container|align": "stretch",
        "height": 597,
        "id": "OpenFieldConfigurator",
        "width": 736,
        "designer|userClassName": "OpenFieldConfigurator",
        "designer|userAlias": "OpenFieldConfigurator",
        "resizable": false,
        "layout": "vbox",
        "title": "Editeur de question ouverte",
        "constrain": true,
        "modal": true
    },
    "configAlternates": {
        "resizable": "boolean"
    },
    "designerId": "66fcb2bd-aade-460e-b8f6-0839b3a1d005",
    "customConfigs": [
        {
            "group": "(Custom Properties)",
            "name": "localiserId",
            "type": "string"
        }
    ],
    "cn": [
        {
            "type": "Ext.toolbar.Toolbar",
            "reference": {
                "name": "dockedItems",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "dock": "bottom"
            },
            "designerId": "d2e10625-6858-4324-943a-4fdce8b1021c",
            "cn": [
                {
                    "type": "Ext.toolbar.Fill",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "layout|flex": null
                    },
                    "designerId": "90b88144-a652-4849-99b9-88ea5246e11a"
                },
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "localiserId": "validateBtn",
                        "layout|flex": null,
                        "id": "OpenFieldConfiguratorSubmit",
                        "iconCls": "ouiSpetit",
                        "text": "Valider"
                    },
                    "designerId": "fd1bcb3c-c06f-4340-a2ee-24bcaebdfeac",
                    "customConfigs": [
                        {
                            "group": "(Custom Properties)",
                            "name": "localiserId",
                            "type": "string"
                        }
                    ],
                    "cn": [
                        {
                            "type": "basiceventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onOpenFieldConfiguratorSubmitClick",
                                "implHandler": [
                                    "var initialValues = Ext.clone(button.up().up().initialItemConfig);\r",
                                    "var myId = Ext.clone(button.up().up().targetedId);\r",
                                    "var form = button.up().up().getComponent(0).getForm();\r",
                                    "var form2=Ext.getCmp(\"CameleonicFormContainer\").getLayout().getActiveItem().getForm();\r",
                                    "if ((form.isValid())&&(form2.isValid())) {\r",
                                    "    var newData = Ext.clone(form.getFieldValues());\r",
                                    "    var partData = form2.getValues();\r",
                                    "    Ext.Object.each(partData, function(key,value,it){\r",
                                    "        if (Ext.isEmpty(value)){\r",
                                    "            it[key]=undefined;\r",
                                    "        }\r",
                                    "    });\r",
                                    "    Ext.apply(newData,partData);\r",
                                    "    initialValues.fieldType=newData.fieldType;\r",
                                    "    initialValues.label=newData.fieldLabel;\r",
                                    "    initialValues.tooltip=newData.tooltip;\r",
                                    "    initialValues.qNb=newData.qNb;\r",
                                    "    delete newData.fieldType;\r",
                                    "    delete newData.fieldLabel;\r",
                                    "    delete newData.tooltip;\r",
                                    "    initialValues.fieldConfig=newData;\r",
                                    "    Ext.getCmp(myId).itemConfig=initialValues;\r",
                                    "    button.up().up().close();\r",
                                    "    Ext.getCmp(myId).sync();\r",
                                    "}"
                                ],
                                "name": "click",
                                "scope": "me"
                            },
                            "designerId": "69643ae9-7eea-4966-9d9a-bad8065acd37"
                        }
                    ]
                }
            ]
        },
        {
            "type": "Ext.form.Panel",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "border": 0,
                "height": 440,
                "bodyPadding": 10,
                "title": ""
            },
            "designerId": "ca1412e1-83f1-4a92-8133-be5794c8d6d1",
            "cn": [
                {
                    "type": "linkedinstance",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "CKETBConfig": "Standard",
                        "localiserId": "questionLabelField",
                        "height": null,
                        "fieldLabel": "Intitulé de la question",
                        "labelAlign": "top",
                        "name": "fieldLabel",
                        "layout|anchor": "100%"
                    },
                    "designerId": "25e4c84d-6e8b-4dd8-9ba4-275610ebcc4f",
                    "customConfigs": [
                        {
                            "group": "(Custom Properties)",
                            "name": "CKETBConfig",
                            "type": "string"
                        },
                        {
                            "group": "(Custom Properties)",
                            "name": "localiserId",
                            "type": "string"
                        }
                    ],
                    "masterInstanceId": "d307504b-480a-4d03-adf2-dc2c18432b4f"
                },
                {
                    "type": "Ext.form.field.Text",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "localiserId": "questionCodeField",
                        "layout|anchor": "100%",
                        "fieldLabel": "Code de la question",
                        "labelWidth": 140,
                        "name": "qNb"
                    },
                    "designerId": "ec30c3e4-df8f-401e-bd36-b1925b1e4dcc",
                    "customConfigs": [
                        {
                            "group": "(Custom Properties)",
                            "name": "localiserId",
                            "type": "string"
                        }
                    ]
                },
                {
                    "type": "Ext.form.field.Text",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "localiserId": "questionHelpTextField",
                        "layout|anchor": "100%",
                        "fieldLabel": "Bulle d'aide",
                        "labelWidth": 140,
                        "name": "tooltip"
                    },
                    "designerId": "fda18543-0001-43bf-95f0-e2cd70e39210",
                    "customConfigs": [
                        {
                            "group": "(Custom Properties)",
                            "name": "localiserId",
                            "type": "string"
                        }
                    ]
                },
                {
                    "type": "Ext.form.field.Checkbox",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "localiserId": "questionMandatoryField",
                        "layout|anchor": "100%",
                        "fieldLabel": "Obligatoire",
                        "labelWidth": 140,
                        "name": "mandatory",
                        "boxLabel": "",
                        "inputValue": "true",
                        "uncheckedValue": "false"
                    },
                    "designerId": "83f2c1ae-567b-4f57-9376-6b46e911afcf",
                    "customConfigs": [
                        {
                            "group": "(Custom Properties)",
                            "name": "localiserId",
                            "type": "string"
                        }
                    ]
                },
                {
                    "type": "Ext.form.RadioGroup",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "localiserId": "questionFieldTypeRadioGroup",
                        "fieldLabel": "Type de champ",
                        "labelPad": null,
                        "labelSeparator": " ",
                        "labelWidth": 140
                    },
                    "designerId": "8cba619b-6566-41d9-b8fd-7d48d373cb9f",
                    "customConfigs": [
                        {
                            "group": "(Custom Properties)",
                            "name": "localiserId",
                            "type": "string"
                        }
                    ],
                    "cn": [
                        {
                            "type": "Ext.form.field.Radio",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "localiserId": "questionTextRadio",
                                "fieldLabel": null,
                                "name": "fieldType",
                                "boxLabel": "Texte",
                                "inputValue": "textfield"
                            },
                            "designerId": "5e745674-511a-4942-8a90-72ccec8f90f9",
                            "customConfigs": [
                                {
                                    "group": "(Custom Properties)",
                                    "name": "localiserId",
                                    "type": "string"
                                }
                            ]
                        },
                        {
                            "type": "Ext.form.field.Radio",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "localiserId": "questionTextareaRadio",
                                "width": 100,
                                "fieldLabel": null,
                                "labelWidth": null,
                                "name": "fieldType",
                                "boxLabel": "Commentaire",
                                "inputValue": "textareafield"
                            },
                            "designerId": "1b425295-942f-4586-ac64-86be42be4047",
                            "customConfigs": [
                                {
                                    "group": "(Custom Properties)",
                                    "name": "localiserId",
                                    "type": "string"
                                }
                            ]
                        },
                        {
                            "type": "Ext.form.field.Radio",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "localiserId": "questionNumberRadio",
                                "fieldLabel": null,
                                "name": "fieldType",
                                "boxLabel": "Nombre",
                                "inputValue": "numberfield"
                            },
                            "designerId": "2ecb16a1-924c-46d0-9d6e-6db6442ad5c2",
                            "customConfigs": [
                                {
                                    "group": "(Custom Properties)",
                                    "name": "localiserId",
                                    "type": "string"
                                }
                            ]
                        },
                        {
                            "type": "Ext.form.field.Radio",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "localiserId": "questionDateRadio",
                                "fieldLabel": null,
                                "name": "fieldType",
                                "boxLabel": "Date",
                                "inputValue": "datefield"
                            },
                            "designerId": "5b46a9ee-6c0a-47b0-b075-aaa86895f2c1",
                            "customConfigs": [
                                {
                                    "group": "(Custom Properties)",
                                    "name": "localiserId",
                                    "type": "string"
                                }
                            ]
                        },
                        {
                            "type": "Ext.form.field.Radio",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "localiserId": "questionTimeRadio",
                                "fieldLabel": null,
                                "name": "fieldType",
                                "boxLabel": "Horaire",
                                "inputValue": "timefield"
                            },
                            "designerId": "75a944b1-e4e1-4f12-9cf9-82c4e892ce94",
                            "customConfigs": [
                                {
                                    "group": "(Custom Properties)",
                                    "name": "localiserId",
                                    "type": "string"
                                }
                            ]
                        },
                        {
                            "type": "basiceventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onRadiogroupChange",
                                "implHandler": [
                                    "Ext.getCmp(\"CameleonicFormContainer\").getLayout().setActiveItem(Ext.getCmp(\"CameleonicFormContainer\").getComponent(newValue.fieldType));"
                                ],
                                "name": "change",
                                "scope": "me"
                            },
                            "designerId": "377d18bb-d3a0-4912-93a6-7c95650b4641"
                        }
                    ]
                }
            ]
        },
        {
            "type": "Ext.container.Container",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "layout|flex": 1,
                "activeItem": 1,
                "id": "CameleonicFormContainer",
                "layout": "card"
            },
            "designerId": "278b9869-cfb1-405d-9100-4fe38ce8470b",
            "cn": [
                {
                    "type": "Ext.form.Panel",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "border": 0,
                        "itemId": "textfield",
                        "bodyPadding": 10,
                        "title": ""
                    },
                    "designerId": "f842a3c4-0e90-4799-8813-22ef1cb729ae",
                    "cn": [
                        {
                            "type": "Ext.form.field.Number",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "localiserId": "minLengthField",
                                "layout|anchor": "100%",
                                "fieldLabel": "Longueur min",
                                "labelWidth": 140,
                                "name": "minLength",
                                "allowDecimals": false,
                                "minValue": 0
                            },
                            "designerId": "9fe7a6a8-0b5a-43f5-9a18-3da1f25f8931",
                            "customConfigs": [
                                {
                                    "group": "(Custom Properties)",
                                    "name": "localiserId",
                                    "type": "string"
                                }
                            ]
                        },
                        {
                            "type": "Ext.form.field.Number",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "localiserId": "maxLengthField",
                                "layout|anchor": "100%",
                                "fieldLabel": "Longueur max",
                                "labelWidth": 140,
                                "name": "maxLength",
                                "allowDecimals": false,
                                "minValue": 0
                            },
                            "designerId": "0fad7f80-3929-4dc9-8a0a-5f814dc2d17e",
                            "customConfigs": [
                                {
                                    "group": "(Custom Properties)",
                                    "name": "localiserId",
                                    "type": "string"
                                }
                            ]
                        },
                        {
                            "type": "Ext.form.field.ComboBox",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "localiserId": "validationField",
                                "layout|anchor": "100%",
                                "fieldLabel": "Validation",
                                "labelWidth": 140,
                                "name": "vtype",
                                "forceSelection": true,
                                "store": [
                                    "[\"alpha\",\"alphanum\",\"email\",\"url\"]"
                                ]
                            },
                            "configAlternates": {
                                "store": "array"
                            },
                            "designerId": "0889a5b0-11b6-49b0-a995-9aec9d2a0801",
                            "customConfigs": [
                                {
                                    "group": "(Custom Properties)",
                                    "name": "localiserId",
                                    "type": "string"
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "Ext.form.Panel",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "border": 0,
                        "itemId": "textareafield",
                        "bodyPadding": 10,
                        "title": ""
                    },
                    "designerId": "5458c15e-51c2-4687-bc8b-9c5d36b0674f",
                    "cn": [
                        {
                            "type": "Ext.form.field.Number",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "localiserId": "minLengthField",
                                "layout|anchor": "100%",
                                "fieldLabel": "Longueur min",
                                "labelWidth": 140,
                                "name": "minLength",
                                "allowDecimals": false,
                                "minValue": 0
                            },
                            "designerId": "560326de-6bbd-424b-b4a9-7ea9132469cc",
                            "customConfigs": [
                                {
                                    "group": "(Custom Properties)",
                                    "name": "localiserId",
                                    "type": "string"
                                }
                            ]
                        },
                        {
                            "type": "Ext.form.field.Number",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "localiserId": "maxLengthField",
                                "layout|anchor": "100%",
                                "fieldLabel": "Longueur max",
                                "labelWidth": 140,
                                "name": "maxLength",
                                "allowDecimals": false,
                                "minValue": 0
                            },
                            "designerId": "0fe6fdba-dd1e-4921-8216-d4d3aad68b46",
                            "customConfigs": [
                                {
                                    "group": "(Custom Properties)",
                                    "name": "localiserId",
                                    "type": "string"
                                }
                            ]
                        },
                        {
                            "type": "Ext.form.field.ComboBox",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "localiserId": "validationField",
                                "layout|anchor": "100%",
                                "fieldLabel": "Validation",
                                "labelWidth": 140,
                                "name": "vtype",
                                "forceSelection": true,
                                "store": [
                                    "[\"alpha\",\"alphanum\",\"email\",\"url\"]"
                                ]
                            },
                            "configAlternates": {
                                "store": "array"
                            },
                            "designerId": "e8ea9159-8de9-485a-926a-1bc74be6b831",
                            "customConfigs": [
                                {
                                    "group": "(Custom Properties)",
                                    "name": "localiserId",
                                    "type": "string"
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "Ext.form.Panel",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "border": 0,
                        "itemId": "numberfield",
                        "bodyPadding": 10,
                        "title": ""
                    },
                    "designerId": "f0d3269f-60a7-447c-a801-d9b9ee6a84a3",
                    "cn": [
                        {
                            "type": "Ext.form.field.Number",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "localiserId": "minValueField",
                                "layout|anchor": "100%",
                                "fieldLabel": "Valeur min",
                                "labelWidth": 140,
                                "name": "minValue"
                            },
                            "designerId": "cb49f2b1-f4ae-433f-b867-5d9967085413",
                            "customConfigs": [
                                {
                                    "group": "(Custom Properties)",
                                    "name": "localiserId",
                                    "type": "string"
                                }
                            ]
                        },
                        {
                            "type": "Ext.form.field.Number",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "localiserId": "maxValueField",
                                "layout|anchor": "100%",
                                "fieldLabel": "Valeur max",
                                "labelWidth": 140,
                                "name": "maxValue"
                            },
                            "designerId": "76aa5aea-d43f-4a86-af9a-66cc61390fe1",
                            "customConfigs": [
                                {
                                    "group": "(Custom Properties)",
                                    "name": "localiserId",
                                    "type": "string"
                                }
                            ]
                        },
                        {
                            "type": "Ext.form.field.Checkbox",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "localiserId": "allowDecimalsField",
                                "layout|anchor": "100%",
                                "fieldLabel": "Décimales",
                                "labelWidth": 140,
                                "name": "allowDecimals",
                                "boxLabel": ""
                            },
                            "designerId": "c2fccede-e31d-49df-85fd-d2659ab043a6",
                            "customConfigs": [
                                {
                                    "group": "(Custom Properties)",
                                    "name": "localiserId",
                                    "type": "string"
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "Ext.form.Panel",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "border": 0,
                        "itemId": "datefield",
                        "bodyPadding": 10,
                        "title": ""
                    },
                    "designerId": "f4490ff7-123b-41cb-8867-c7f41179c959",
                    "cn": [
                        {
                            "type": "Ext.form.field.Date",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "localiserId": "minValueField",
                                "layout|anchor": "100%",
                                "fieldLabel": "Valeur min",
                                "labelWidth": 140,
                                "name": "minValue"
                            },
                            "designerId": "2b8b0a91-70fe-45ab-8068-4c8b349d4aaf",
                            "customConfigs": [
                                {
                                    "group": "(Custom Properties)",
                                    "name": "localiserId",
                                    "type": "string"
                                }
                            ]
                        },
                        {
                            "type": "Ext.form.field.Date",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "localiserId": "maxValueField",
                                "layout|anchor": "100%",
                                "fieldLabel": "Valeur max",
                                "labelWidth": 140,
                                "name": "maxValue"
                            },
                            "designerId": "8ecf1cc7-3c37-4e89-a9c9-730152569920",
                            "customConfigs": [
                                {
                                    "group": "(Custom Properties)",
                                    "name": "localiserId",
                                    "type": "string"
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "Ext.form.Panel",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "border": 0,
                        "itemId": "timefield",
                        "bodyPadding": 10,
                        "title": ""
                    },
                    "designerId": "03d58755-0f34-4a5f-b04b-9aca84e72a19",
                    "cn": [
                        {
                            "type": "Ext.form.field.Time",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "localiserId": "minValueField",
                                "layout|anchor": "100%",
                                "fieldLabel": "Valeur min",
                                "labelWidth": 140,
                                "name": "minValue"
                            },
                            "designerId": "f52a7e01-e696-4023-9715-05c54eea6dac",
                            "customConfigs": [
                                {
                                    "group": "(Custom Properties)",
                                    "name": "localiserId",
                                    "type": "string"
                                }
                            ]
                        },
                        {
                            "type": "Ext.form.field.Time",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "localiserId": "maxValueField",
                                "layout|anchor": "100%",
                                "fieldLabel": "Valeur max",
                                "labelWidth": 140,
                                "name": "maxValue"
                            },
                            "designerId": "066173b6-75cc-4764-a576-6dc45dab73d7",
                            "customConfigs": [
                                {
                                    "group": "(Custom Properties)",
                                    "name": "localiserId",
                                    "type": "string"
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "type": "basiceventbinding",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onOpenFieldConfiguratorAfterRender",
                "implHandler": [
                    "var initialValues = Ext.clone(component.initialItemConfig.fieldConfig);\r",
                    "initialValues.fieldType= Ext.clone(component.initialItemConfig.fieldType);\r",
                    "initialValues.fieldLabel=Ext.clone(component.initialItemConfig.label);\r",
                    "initialValues.tooltip=Ext.clone(component.initialItemConfig.tooltip);\r",
                    "initialValues.qNb=Ext.clone(component.initialItemConfig.qNb);\r",
                    "component.getComponent(0).getForm().setValues(initialValues);\r",
                    "var task = new Ext.util.DelayedTask(function(){\r",
                    "    Ext.getCmp(\"CameleonicFormContainer\").getLayout().getActiveItem().getForm().setValues(initialValues);\r",
                    "});\r",
                    "task.delay(200);"
                ],
                "name": "afterrender",
                "scope": "me"
            },
            "designerId": "92a6ccb6-71fe-4f6d-b80e-bab6eab75248"
        }
    ]
}