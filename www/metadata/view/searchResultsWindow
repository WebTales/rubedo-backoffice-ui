{
    "type": "Ext.window.Window",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "constrainHeader": true,
        "container|align": "stretch",
        "designer|userAlias": "searchResultsWindow",
        "designer|userClassName": "searchResultsWindow",
        "height": 492,
        "iconCls": "search",
        "id": "searchResultsWindow",
        "layout": "hbox",
        "localiserId": "searchResultsWindow",
        "title": "RÃ©sultats de recherche",
        "width": 936
    },
    "configAlternates": {
        "advancedESQMode": "boolean"
    },
    "designerId": "f720ad71-dfb5-436d-95de-957b47102cb6",
    "customConfigs": [
        {
            "group": "(Custom Properties)",
            "name": "localiserId",
            "type": "string"
        }
    ],
    "cn": [
        {
            "type": "Ext.form.Panel",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "bodyPadding": "0 20 0 10",
                "container|align": "stretch",
                "id": "searchFacetBox",
                "layout": "vbox",
                "layout|flex": null,
                "localiserId": "filtersPanel",
                "overflowY": "auto",
                "title": "Filtres",
                "width": 240
            },
            "name": "MyForm47",
            "designerId": "35d80392-506f-4f26-89c9-d833f433870d",
            "customConfigs": [
                {
                    "group": "(Custom Properties)",
                    "name": "localiserId",
                    "type": "string"
                }
            ],
            "cn": [
                {
                    "type": "processcfgfunction",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "designer|params": [
                            "config"
                        ],
                        "fn": "processSearchFacetBox",
                        "implHandler": [
                            "config.plugins=[Ext.create(\"Ext.ux.BoxReorderer\")];\r",
                            "return config;"
                        ]
                    },
                    "name": "processSearchFacetBox",
                    "designerId": "a25df425-cb7b-4987-b070-ef1c26dd7d4f"
                },
                {
                    "type": "Ext.toolbar.Toolbar",
                    "reference": {
                        "name": "dockedItems",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dock": "top"
                    },
                    "name": "MyToolbar57",
                    "designerId": "2f9dc766-5c89-4824-9f2c-c5aec6163e59",
                    "cn": [
                        {
                            "type": "Ext.form.field.Text",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "enableKeyEvents": null,
                                "fieldLabel": "",
                                "id": "ESFacetQueryField",
                                "labelWidth": 40,
                                "layout|flex": 1,
                                "name": "query"
                            },
                            "name": "MyTextField65",
                            "designerId": "c9204439-6bcb-47e9-a8bf-19d76e699b6d",
                            "cn": [
                                {
                                    "type": "basiceventbinding",
                                    "reference": {
                                        "name": "listeners",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fn": "onESFacetQueryFieldSpecialkey",
                                        "implHandler": [
                                            "if (e.getKey() == e.ENTER) {\r",
                                            "    Ext.getCmp(\"ESFacetQueryBtn\").fireEvent(\"click\",Ext.getCmp(\"ESFacetQueryBtn\"));\r",
                                            "}"
                                        ],
                                        "name": "specialkey",
                                        "scope": "me"
                                    },
                                    "name": "onESFacetQueryFieldSpecialkey",
                                    "designerId": "274b65e7-04f6-42dd-94e9-109b39b6a6a8"
                                }
                            ]
                        },
                        {
                            "type": "Ext.toolbar.Fill",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "layout|flex": 0.01
                            },
                            "name": "MyFill30",
                            "designerId": "512f81f9-c89e-4638-b647-ca6a0bf63761"
                        },
                        {
                            "type": "Ext.button.Button",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "iconCls": "search",
                                "id": "ESFacetQueryBtn",
                                "layout|flex": null,
                                "text": ""
                            },
                            "name": "MyButton226",
                            "designerId": "3586846f-9108-4862-ac69-bfeec8c1a386"
                        }
                    ]
                },
                {
                    "type": "Ext.form.Panel",
                    "reference": {
                        "name": "dockedItems",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "bodyPadding": 10,
                        "collapsed": true,
                        "collapsible": true,
                        "dock": "top",
                        "hidden": true,
                        "layout|flex": 1,
                        "localiserId": "fsGlobalSetPan",
                        "title": "Global facet settings"
                    },
                    "name": "MyForm48",
                    "designerId": "6bc092c0-ece6-4454-af5d-fdc4e6dc7cf8",
                    "customConfigs": [
                        {
                            "group": "(Custom Properties)",
                            "name": "localiserId",
                            "type": "string"
                        }
                    ],
                    "cn": [
                        {
                            "type": "Ext.form.field.Checkbox",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "boxLabel": "",
                                "checked": true,
                                "fieldLabel": "Display",
                                "inputValue": "true",
                                "layout|anchor": "100%",
                                "localiserId": "displayFacetFieldM",
                                "name": "displayFacet"
                            },
                            "name": "MyCheckbox12",
                            "designerId": "b2b2916d-d91e-4245-bdad-198a8d035275",
                            "customConfigs": [
                                {
                                    "group": "(Custom Properties)",
                                    "name": "localiserId",
                                    "type": "string"
                                }
                            ]
                        },
                        {
                            "type": "Ext.form.field.ComboBox",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "allowBlank": false,
                                "editable": false,
                                "fieldLabel": "Facet operator",
                                "forceSelection": true,
                                "layout|anchor": "100%",
                                "localiserId": "facetOperatorField",
                                "name": "facetOperator",
                                "store": null,
                                "value": [
                                    "\"AND\""
                                ]
                            },
                            "name": "MyComboBox37",
                            "configAlternates": {
                                "store": "array"
                            },
                            "designerId": "d963f4c4-4f35-4706-9c0c-f00d054eda83",
                            "customConfigs": [
                                {
                                    "group": "(Custom Properties)",
                                    "name": "localiserId",
                                    "type": "string"
                                }
                            ],
                            "cn": [
                                {
                                    "type": "processcfgfunction",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "designer|params": [
                                            "config"
                                        ],
                                        "fn": "processFacetOperator",
                                        "implHandler": [
                                            "config.store=[[\"AND\",Rubedo.RubedoAutomatedElementsLoc.andText],[\"OR\",Rubedo.RubedoAutomatedElementsLoc.orText]];\r",
                                            "return config;"
                                        ]
                                    },
                                    "name": "processFacetOperator",
                                    "designerId": "659766cc-a380-4106-a23d-c09a1daaa8c0"
                                }
                            ]
                        },
                        {
                            "type": "Ext.button.Button",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "id": "apllyFacetPropsToAllBtn",
                                "layout|anchor": "100%",
                                "text": "Apply to all"
                            },
                            "name": "MyButton227",
                            "designerId": "8602b8b9-514e-4f41-936f-b3a03f3032df",
                            "cn": [
                                {
                                    "type": "basiceventbinding",
                                    "reference": {
                                        "name": "listeners",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fn": "onApllyFacetPropsToAllBtnClick",
                                        "implHandler": [
                                            "var values=button.up().getForm().getFieldValues();\r",
                                            "Ext.Array.forEach(button.up().up().items.items,function(fieldset){\r",
                                            "\tfieldset.getComponent(\"facetIsDisplayedField\").setValue(values.displayFacet);\r",
                                            "    fieldset.getComponent(\"facetOperatorField\").setValue(values.facetOperator);\r",
                                            "});"
                                        ],
                                        "name": "click",
                                        "scope": "me"
                                    },
                                    "name": "onApllyFacetPropsToAllBtnClick",
                                    "designerId": "32e6391e-84ef-4014-a5e2-c240a18bc27b"
                                }
                            ]
                        },
                        {
                            "type": "basiceventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onFormAfterRender",
                                "implHandler": [
                                    "if (component.up().up().advancedESQMode){\r",
                                    "    \r",
                                    "    component.show();\r",
                                    "}"
                                ],
                                "name": "afterrender",
                                "scope": "me"
                            },
                            "name": "onFormAfterRender",
                            "designerId": "1d2bbc73-7e00-42b3-ba73-24dda1d7a159"
                        }
                    ]
                }
            ]
        },
        {
            "type": "basiceventbinding",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onSearchResultsWindowBeforeClose",
                "implHandler": [
                    "Ext.getStore(\"ESFacetteStore\").removeAll();\r",
                    "Ext.getStore(\"ESFacetteStore\").activeFacettes={ };\r",
                    "Ext.getStore(\"ESFacetteStore\").getProxy().api.read='elastic-search';"
                ],
                "name": "beforeclose",
                "scope": "me"
            },
            "name": "onSearchResultsWindowBeforeClose",
            "designerId": "3c8c07db-76a3-49f2-b1df-f29002e3b9d4"
        },
        {
            "type": "linkedinstance",
            "reference": {
                "name": "tools",
                "type": "array"
            },
            "codeClass": null,
            "name": "mytool16",
            "designerId": "e2a3863b-0d18-42a3-ace3-b1c83d8bdde2",
            "masterInstanceId": "7263f6b0-1331-4499-84af-95500ad7f815"
        },
        {
            "type": "linkedinstance",
            "reference": {
                "name": "tools",
                "type": "array"
            },
            "codeClass": null,
            "name": "mytool171",
            "designerId": "3817e883-13c7-41a2-86d5-0ea327a084eb",
            "masterInstanceId": "1ab0b0a2-44a7-48b2-8bf5-cfcf4aa29237"
        },
        {
            "type": "Ext.grid.Panel",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "id": "ResultContentsGrid",
                "itemId": null,
                "layout|flex": 1,
                "store": "ESFacetteStore",
                "title": ""
            },
            "name": "MyGridPanel38",
            "designerId": "7ebe237b-4559-4f9b-9f7e-314717f87dd7",
            "cn": [
                {
                    "type": "Ext.grid.View",
                    "reference": {
                        "name": "viewConfig",
                        "type": "object"
                    },
                    "codeClass": null,
                    "name": "MyGridView41",
                    "designerId": "5dc083f4-5a24-48aa-9b80-e39f6ddee069"
                },
                {
                    "type": "Ext.grid.column.Column",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dataIndex": "text",
                        "flex": 2,
                        "localiserId": "titleCol",
                        "text": "Titre"
                    },
                    "name": "MyColumn83",
                    "configAlternates": {
                        "filter": "boolean"
                    },
                    "designerId": "e3587e55-0229-4cf6-b84f-d922e423dbf2",
                    "customConfigs": [
                        {
                            "group": "(Custom Properties)",
                            "name": "localiserId",
                            "type": "string"
                        }
                    ],
                    "cn": [
                        {
                            "type": "fixedfunction",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|params": [
                                    "value",
                                    "metaData",
                                    "record",
                                    "rowIndex",
                                    "colIndex",
                                    "store",
                                    "view"
                                ],
                                "fn": "renderer",
                                "implHandler": [
                                    "if (record.get(\"objectType\")==\"dam\"){",
                                    "    var link=\"dam/get-thumbnail?id=\"+record.get(\"id\")+\"&version=\"+record.get(\"version\");",
                                    "return ('<img src=\\\"'+link+'\\\" height=\\\"100\\\" width=\\\"100\\\"><p>'+value+'</p>');",
                                    "} else if (record.get(\"objectType\")==\"user\") { ",
                                    "var src=\"\";",
                                    "if (Ext.isEmpty(record.get(\"photo\"))) {",
                                    "    src=\"resources/images/userBig.png\";",
                                    "} else {",
                                    "    src=\"image/get?file-id=\"+record.get(\"photo\");",
                                    "}",
                                    "return ('<img src=\\\"'+src+'\\\" width=\\\"100\\\" ><p>'+value+'</p>');",
                                    "}else return value;"
                                ]
                            },
                            "name": "renderer",
                            "designerId": "1d5cb055-3481-42eb-9507-6db2ac782de3"
                        }
                    ]
                },
                {
                    "type": "Ext.grid.column.Column",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dataIndex": "author",
                        "flex": 1,
                        "localiserId": "authorCol",
                        "text": "Auteur"
                    },
                    "name": "MyColumn84",
                    "designerId": "302e7c0e-40b0-4342-ace9-aa72863c4baa",
                    "customConfigs": [
                        {
                            "group": "(Custom Properties)",
                            "name": "localiserId",
                            "type": "string"
                        }
                    ]
                },
                {
                    "type": "Ext.grid.column.Column",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dataIndex": "type",
                        "localiserId": "typeCol",
                        "sortable": false,
                        "text": "Type"
                    },
                    "name": "MyColumn85",
                    "designerId": "70ce4c42-db36-4cf3-a4b8-264805d732da",
                    "customConfigs": [
                        {
                            "group": "(Custom Properties)",
                            "name": "localiserId",
                            "type": "string"
                        }
                    ],
                    "cn": [
                        {
                            "type": "fixedfunction",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|params": [
                                    "value",
                                    "metaData",
                                    "record",
                                    "rowIndex",
                                    "colIndex",
                                    "store",
                                    "view"
                                ],
                                "fn": "renderer",
                                "implHandler": [
                                    "return(record.get(\"objectType\")+\" : \"+record.get(\"type\"));"
                                ]
                            },
                            "name": "renderer",
                            "designerId": "51aa99b0-e268-43bc-96fd-dbd73421c9cf"
                        }
                    ]
                },
                {
                    "type": "Ext.grid.column.Date",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dataIndex": "lastUpdateTime",
                        "flex": 1.2,
                        "format": "F j, Y, G:i ",
                        "localiserId": "lastUpdateCol",
                        "text": "Date de derniÃ¨re modification"
                    },
                    "name": "MyDateColumn8",
                    "designerId": "6799363c-d3dc-42bb-a27c-905f3682946c",
                    "customConfigs": [
                        {
                            "group": "(Custom Properties)",
                            "name": "localiserId",
                            "type": "string"
                        }
                    ]
                },
                {
                    "type": "Ext.grid.column.Number",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dataIndex": "score",
                        "format": "0",
                        "localiserId": "pertinenceCol",
                        "text": "Pertinence",
                        "width": 80
                    },
                    "name": "MyNumberColumn1",
                    "designerId": "29ffe6fa-f510-43ee-a552-7e882fb3117a",
                    "customConfigs": [
                        {
                            "group": "(Custom Properties)",
                            "name": "localiserId",
                            "type": "string"
                        }
                    ]
                },
                {
                    "type": "Ext.toolbar.Paging",
                    "reference": {
                        "name": "dockedItems",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "displayInfo": true,
                        "dock": "bottom",
                        "store": "ESFacetteStore",
                        "width": 360
                    },
                    "name": "MyPagingToolbar3",
                    "designerId": "cccd126e-1f28-4c4e-9e7b-40559bbac696",
                    "cn": [
                        {
                            "type": "Ext.toolbar.Fill",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "layout|flex": 10
                            },
                            "name": "MyFill",
                            "designerId": "f8c85ceb-09f5-42d2-b1fd-69376fa19be6"
                        },
                        {
                            "type": "Ext.button.Button",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "disabled": true,
                                "hidden": true,
                                "iconCls": "ouiSpetit",
                                "id": "selectESEntityBtn",
                                "layout|flex": null,
                                "localiserId": "chooseBtn",
                                "text": "<b>Choose</b>"
                            },
                            "name": "MyButton229",
                            "designerId": "e3065147-1362-4fc0-8e70-57889bab25f9",
                            "customConfigs": [
                                {
                                    "group": "(Custom Properties)",
                                    "name": "localiserId",
                                    "type": "string"
                                }
                            ],
                            "cn": [
                                {
                                    "type": "basiceventbinding",
                                    "reference": {
                                        "name": "listeners",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fn": "onSelectESEntityBtnClick",
                                        "implHandler": [
                                            "var id=Ext.getCmp(\"ResultContentsGrid\").getSelectionModel().getLastSelected().get(\"id\");",
                                            "Ext.getCmp(Ext.getCmp(\"searchResultsWindow\").targetId).setValue(id);",
                                            "Ext.getCmp(\"searchResultsWindow\").close();"
                                        ],
                                        "name": "click",
                                        "scope": "me"
                                    },
                                    "name": "onSelectESEntityBtnClick",
                                    "designerId": "15840bcc-c641-4483-8816-077eb1a89631"
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "basiceventbinding",
                    "reference": {
                        "name": "listeners",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "fn": "onResultContentsGridSelectionChange",
                        "implHandler": [
                            "if (Ext.isEmpty(selected)){\r",
                            "\tExt.getCmp(\"selectESEntityBtn\").disable();\r",
                            "} else {\r",
                            "    Ext.getCmp(\"selectESEntityBtn\").enable();\r",
                            "}"
                        ],
                        "name": "selectionchange",
                        "scope": "me"
                    },
                    "name": "onResultContentsGridSelectionChange",
                    "designerId": "02c3eebd-44c1-4f8c-81d4-bf70e7cd29a9"
                }
            ]
        },
        {
            "type": "Ext.toolbar.Toolbar",
            "reference": {
                "name": "dockedItems",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "dock": "top",
                "id": "ESSearchTopBar",
                "layout|flex": 1
            },
            "name": "MyToolbar58",
            "designerId": "fdf08f42-7a2e-463f-abe9-d5a7f8fe80a7",
            "cn": [
                {
                    "type": "Ext.toolbar.Toolbar",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "border": 0,
                        "cls": null,
                        "enableOverflow": true,
                        "height": 32,
                        "id": "SearchActiveFacetBar",
                        "layout|flex": null
                    },
                    "name": "MyToolbar59",
                    "designerId": "d5a31d22-aa7d-442c-a3af-7ec604f5ed14"
                },
                {
                    "type": "Ext.toolbar.Fill",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "layout|flex": null
                    },
                    "name": "MyFill31",
                    "designerId": "5ca14368-c13a-4a27-965c-1e0ed7bb9217"
                },
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "iconCls": "favorite_add_med",
                        "id": "ESFavBtn",
                        "itemId": "boutonCreerRaccourci",
                        "layout|flex": null,
                        "scale": "medium",
                        "text": ""
                    },
                    "name": "MyButton228",
                    "designerId": "0a9d678c-0299-444b-b6a1-91103dd41bc3"
                },
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "hidden": true,
                        "iconCls": "ouiSpetit",
                        "id": "saveGeoQueryBtn",
                        "layout|flex": null,
                        "localiserId": "saveQueryBtn",
                        "text": "Enregistrer la requÃªte"
                    },
                    "name": "MyButton230",
                    "designerId": "9cf03ae4-4207-4cb9-8b92-84f157812be5",
                    "customConfigs": [
                        {
                            "group": "(Custom Properties)",
                            "name": "localiserId",
                            "type": "string"
                        }
                    ],
                    "cn": [
                        {
                            "type": "basiceventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onSaveGeoQueryBtnClick",
                                "implHandler": [
                                    "var rez = Ext.JSON.encode(Ext.getStore(\"ESFacetteStore\").activeFacettes);\r",
                                    "Ext.getCmp(button.up().up().targetedId).setValue(rez);\r",
                                    "\r",
                                    "if (button.up().up().advancedESQMode){\r",
                                    "    var newDF= [ ];\r",
                                    "    Ext.Array.forEach(Ext.getCmp(\"searchFacetBox\").items.items, function(facet){\r",
                                    "        if (facet.getComponent(\"facetIsDisplayedField\").getValue()){\r",
                                    "            newDF.push({\r",
                                    "                name:facet.usedProperty,\r",
                                    "                operator:facet.getComponent(\"facetOperatorField\").getValue()\r",
                                    "            });\r",
                                    "        }\r",
                                    "    });\r",
                                    "    newDF=Ext.JSON.encode(newDF);\r",
                                    "    Ext.getCmp(button.up().up().targetedId).up().getComponent(\"displayedFacetsBrotherField\").setValue(newDF);\r",
                                    "}\r",
                                    "\r",
                                    "button.up().up().close();"
                                ],
                                "name": "click",
                                "scope": "me"
                            },
                            "name": "onSaveGeoQueryBtnClick",
                            "designerId": "c87dea85-371e-49e1-a34b-f68cce4beeb2"
                        }
                    ]
                }
            ]
        },
        {
            "type": "basiceventbinding",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onSearchResultsWindowBeforeRender",
                "implHandler": [
                    "if(component.advancedESQMode){",
                    "    component.defaultFOps={ };",
                    "    Ext.Ajax.request({",
                    "        url: 'elastic-search/get-default-operators',",
                    "        params: {",
                    "",
                    "        },",
                    "        success: function(response){",
                    "            var defops = Ext.JSON.decode(response.responseText).data;",
                    "            component.defaultFOps=defops;",
                    "        }",
                    "    });",
                    "}",
                    "",
                    "",
                    "",
                    "if (component.geoQueryMode){",
                    "    component.modal=true;",
                    "    component.setTitle(Rubedo.RubedoAutomatedElementsLoc.esGeoQueryText);",
                    "    Ext.getStore(\"ESFacetteStore\").activeFacettes={ };",
                    "    Ext.getCmp(\"ESFavBtn\").hide();",
                    "    Ext.getCmp(\"saveGeoQueryBtn\").show();",
                    "    if (!Ext.isEmpty(component.predefFacettes)){",
                    "        Ext.getStore(\"ESFacetteStore\").activeFacettes=component.predefFacettes;",
                    "    }",
                    "    Ext.getStore(\"ESFacetteStore\").getProxy().api.read='elastic-search-geo';",
                    "    Ext.getStore(\"ESFacetteStore\").load();",
                    "} else if (component.queryMode){",
                    "    component.modal=true;",
                    "    component.setTitle(Rubedo.RubedoAutomatedElementsLoc.esQueryText);",
                    "    Ext.getStore(\"ESFacetteStore\").activeFacettes={ };",
                    "    Ext.getCmp(\"ESFavBtn\").hide();",
                    "    Ext.getCmp(\"saveGeoQueryBtn\").show();",
                    "    if (!Ext.isEmpty(component.predefFacettes)){",
                    "        Ext.getStore(\"ESFacetteStore\").activeFacettes=component.predefFacettes;",
                    "    }",
                    "    Ext.getStore(\"ESFacetteStore\").getProxy().api.read='elastic-search';",
                    "    Ext.getStore(\"ESFacetteStore\").load();",
                    "",
                    "} else if (component.damQueryMode){",
                    "    component.modal=true;",
                    "    component.setTitle(Rubedo.RubedoAutomatedElementsLoc.esDAMQueryText);",
                    "    Ext.getStore(\"ESFacetteStore\").activeFacettes={ };",
                    "    Ext.getCmp(\"ESFavBtn\").hide();",
                    "    Ext.getCmp(\"saveGeoQueryBtn\").show();",
                    "    if (!Ext.isEmpty(component.predefFacettes)){",
                    "        Ext.getStore(\"ESFacetteStore\").activeFacettes=component.predefFacettes;",
                    "    }",
                    "    Ext.getStore(\"ESFacetteStore\").getProxy().api.read='elastic-search-dam';",
                    "    Ext.getStore(\"ESFacetteStore\").load();",
                    "",
                    "} else if (component.userQueryMode){",
                    "    component.modal=true;",
                    "    component.setTitle(Rubedo.RubedoAutomatedElementsLoc.esDAMQueryText);",
                    "    Ext.getStore(\"ESFacetteStore\").activeFacettes={ };",
                    "    Ext.getCmp(\"ESFavBtn\").hide();",
                    "    Ext.getCmp(\"saveGeoQueryBtn\").show();",
                    "    if (!Ext.isEmpty(component.predefFacettes)){",
                    "        Ext.getStore(\"ESFacetteStore\").activeFacettes=component.predefFacettes;",
                    "    }",
                    "    Ext.getStore(\"ESFacetteStore\").getProxy().api.read='elastic-search-user';",
                    "    Ext.getStore(\"ESFacetteStore\").load();",
                    "",
                    "} else if (component.DCEFMode){",
                    "    component.modal=true;",
                    "    component.setTitle(\"Content Selector\");",
                    "    Ext.getStore(\"ESFacetteStore\").activeFacettes={ };",
                    "    if (!Ext.isEmpty(component.allowedCT)){",
                    "        Ext.getStore(\"ESFacetteStore\").activeFacettes={type:component.allowedCT};",
                    "    }",
                    "    Ext.getCmp(\"ESFavBtn\").hide();",
                    "    Ext.getCmp(\"selectESEntityBtn\").show();",
                    "    Ext.getStore(\"ESFacetteStore\").getProxy().api.read='elastic-search-content';",
                    "    Ext.getStore(\"ESFacetteStore\").load();",
                    "} else if (component.MediaPickerMode){",
                    "    component.modal=true;",
                    "    component.setTitle(\"Media Selector\");",
                    "    Ext.getStore(\"ESFacetteStore\").activeFacettes={ };",
                    "    if (!Ext.isEmpty(component.allowedDT)){",
                    "        Ext.getStore(\"ESFacetteStore\").activeFacettes={damType:component.allowedDT};",
                    "    }",
                    "    Ext.getCmp(\"ESFavBtn\").hide();",
                    "    Ext.getCmp(\"selectESEntityBtn\").show();",
                    "    Ext.getStore(\"ESFacetteStore\").getProxy().api.read='elastic-search-dam';",
                    "    Ext.getStore(\"ESFacetteStore\").load();",
                    "}",
                    ""
                ],
                "name": "beforerender",
                "scope": "me"
            },
            "name": "onSearchResultsWindowBeforeRender",
            "designerId": "5afffbfb-8aa3-4117-a030-1a82d4cfb93a"
        }
    ]
}