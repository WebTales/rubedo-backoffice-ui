{
    "type": "Ext.window.Window",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "height": 211,
        "id": "FCEditor",
        "width": 632,
        "designer|userClassName": "FCEditor",
        "designer|userAlias": "FCEditor",
        "resizable": false,
        "layout": "fit",
        "title": "Condition d'affichage",
        "constrain": true,
        "modal": true
    },
    "configAlternates": {
        "resizable": "boolean"
    },
    "designerId": "f5b46bb4-ca52-41c0-9e83-0695c4bd5b02",
    "cn": [
        {
            "type": "Ext.toolbar.Toolbar",
            "reference": {
                "name": "dockedItems",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "dock": "bottom",
                "designer|userClassName": "MyToolbar72"
            },
            "designerId": "9c0fd240-a302-4d18-aca9-fa11d5b57c98",
            "cn": [
                {
                    "type": "Ext.toolbar.Fill",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "layout|flex": null,
                        "designer|userClassName": "MyFill36"
                    },
                    "designerId": "3c0e42d6-2b57-48a7-a4ce-15243e99d554"
                },
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "layout|flex": null,
                        "id": "FCEditorSubmitBtn",
                        "designer|userClassName": "MyButton287",
                        "iconCls": "ouiSpetit",
                        "text": "Valider"
                    },
                    "designerId": "0fa01f29-24da-4cd5-bf23-566c6e451c8d",
                    "cn": [
                        {
                            "type": "basiceventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|userClassName": "onFCEditorSubmitBtnClick",
                                "fn": "onFCEditorSubmitBtnClick",
                                "implHandler": [
                                    "var initialValues = Ext.clone(button.up().up().initialItemConfig);\r",
                                    "var myId = Ext.clone(button.up().up().targetedId);\r",
                                    "var form = button.up().up().getComponent(0).getForm();\r",
                                    "if (form.isValid()) {\r",
                                    "    var newCond=[form.getValues()];\r",
                                    "    if (Ext.isEmpty(newCond[0].field)){\r",
                                    "        newCond=[ ];\r",
                                    "    } else {\r",
                                    "        try{newCond[0].value=Ext.getCmp(\"FCEditor\").getComponent(0).getComponent(2).getComponent(0).getSubmitValue();}\r",
                                    "        catch(err){\r",
                                    "        newCond[0].value=Ext.getCmp(\"FCEditor\").getComponent(0).getComponent(2).getComponent(0).getValue();\r",
                                    "        }\r",
                                    "    }\r",
                                    "    Ext.getCmp(myId).itemConfig.conditionals=newCond;\r",
                                    "    button.up().up().close();\r",
                                    "    Ext.getCmp(myId).sync();\r",
                                    "}\r",
                                    ""
                                ],
                                "name": "click",
                                "scope": "me"
                            },
                            "designerId": "db894c93-c11c-477f-a337-072b7b639bfc"
                        }
                    ]
                }
            ]
        },
        {
            "type": "Ext.form.Panel",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "container|align": "middle",
                "itemId": "conditionWraper",
                "designer|userClassName": "MyForm64",
                "layout": "hbox",
                "bodyPadding": 10,
                "title": ""
            },
            "designerId": "a9c0260b-f0e5-45b0-94d6-20c0e14131c9",
            "cn": [
                {
                    "type": "linkedinstance",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "itemId": "conditionFieldCombo",
                        "layout|flex": 1
                    },
                    "designerId": "75c47fb2-ed24-4e3c-be97-2edf87479e61",
                    "masterInstanceId": "1f387c06-5c71-4cab-ac38-38a30ac34a23"
                },
                {
                    "type": "Ext.form.field.ComboBox",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "layout|flex": 0.3,
                        "margin": "0 0 0 10",
                        "designer|userClassName": "MyComboBox33",
                        "fieldLabel": "",
                        "labelWidth": null,
                        "name": "operator",
                        "value": [
                            "\"=\""
                        ],
                        "editable": false,
                        "forceSelection": true,
                        "store": [
                            "[\"=\",\"â‰ \"]"
                        ]
                    },
                    "configAlternates": {
                        "store": "array"
                    },
                    "designerId": "64b3aeea-c31e-4c69-ad6d-b7690d95e6eb"
                },
                {
                    "type": "Ext.panel.Panel",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "layout|flex": 1,
                        "container|align": "middle",
                        "border": 0,
                        "height": 140,
                        "id": "answerFieldComponent",
                        "designer|userClassName": "MyPanel55",
                        "autoScroll": true,
                        "layout": "hbox",
                        "bodyPadding": 10
                    },
                    "designerId": "5b679d1f-7cce-4332-9bf9-aa854a93e768"
                }
            ]
        },
        {
            "type": "basiceventbinding",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|userClassName": "onFCEditorAfterRender",
                "fn": "onFCEditorAfterRender",
                "implHandler": [
                    "var initialValues = Ext.clone(component.initialItemConfig);\r",
                    "var myId = Ext.clone(component.targetedId);\r",
                    "var form = component.getComponent(0);\r",
                    "if (!Ext.isEmpty(initialValues.conditionals)){\r",
                    "    form.getComponent(0).setValue(initialValues.conditionals[0].field);\r",
                    "    form.getComponent(1).setValue(initialValues.conditionals[0].operator);\r",
                    "    var task = new Ext.util.DelayedTask(function(){\r",
                    "        try {form.getComponent(2).getComponent(0).setValue(initialValues.conditionals[0].value);} catch (err){console.log(\"problem with scondary field\");}\r",
                    "    });\r",
                    "    task.delay(300);\r",
                    "}"
                ],
                "name": "afterrender",
                "scope": "me"
            },
            "designerId": "b22aa658-291f-4a18-a7ae-5a84905890ab"
        }
    ]
}