{
    "type": "window",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "designer|userClassName": "DAMCreateUpdateWindow",
        "designer|userAlias": "DAMCreateUpdateWindow",
        "requires": [
            "Ext.ux.TreePicker"
        ],
        "floating": true,
        "height": 400,
        "id": "DAMCreateUpdateWindow",
        "maxHeight": null,
        "minHeight": 220,
        "width": 900,
        "overflowY": "auto",
        "layout": "fit",
        "iconCls": "mediaTypes",
        "title": "Nouveau média",
        "constrain": true,
        "constrainHeader": true,
        "maximizable": false,
        "modal": true
    },
    "configAlternates": {
        "resizable": "boolean"
    },
    "id": "ExtBox1-ext-gen11144",
    "designerId": "939ef002-62e9-4ca0-a15f-a368fcab7385",
    "cn": [
        {
            "type": "linkedinstance",
            "reference": {
                "name": "tools",
                "type": "array"
            },
            "codeClass": null,
            "designerId": "535d186b-c92e-4a59-86ab-42cd2799b34a",
            "masterInstanceId": "ExtBox1-ext-gen2736"
        },
        {
            "type": "form",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|userClassName": "MyForm3",
                "height": null,
                "id": "DAMFieldBox",
                "autoScroll": true,
                "bodyPadding": 10,
                "title": ""
            },
            "designerId": "76120e34-b5c1-40a3-9536-1168e395f143",
            "cn": [
                {
                    "type": "container",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "container|align": "stretch",
                        "designer|userClassName": "MyContainer47",
                        "id": null,
                        "layout": "hbox"
                    },
                    "designerId": "53ad484f-2ba0-41b0-902d-d697fbb20190",
                    "cn": [
                        {
                            "type": "container",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|userClassName": "ChampTC",
                                "designer|userAlias": "ChampTC",
                                "designer|displayName": null,
                                "height": null,
                                "id": "DAMMainFileFieldBox",
                                "padding": 10,
                                "style": null,
                                "width": 300,
                                "layout": "anchor"
                            },
                            "configAlternates": {
                                "style": "string"
                            },
                            "designerId": "4dc98bb5-5967-4b22-8126-09a3df6665e1",
                            "cn": [
                                {
                                    "type": "basiceventbinding",
                                    "reference": {
                                        "name": "listeners",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "designer|userClassName": "onContainerRender",
                                        "fn": "onContainerRender",
                                        "implHandler": [
                                            "if (Ext.isEmpty(Ext.getStore(\"MTForDAMEdit\").getRange())){\r",
                                            "    var leType=Ext.getCmp(\"DAMMTGrid\").getSelectionModel().getLastSelected().get(\"mainFileType\");\r",
                                            "} else {\r",
                                            "    var leType=Ext.getStore(\"MTForDAMEdit\").getRange()[0].get(\"mainFileType\");\r",
                                            "}\r",
                                            "var mainField= Ext.create(\"Rubedo.view.GFSFileField\", {\r",
                                            "    name:\"originalFileId\",\r",
                                            "    allowBlank:false,\r",
                                            "    id:\"DAMOriginalUpd\",\r",
                                            "    fieldLabel:\"Fichier original *\",\r",
                                            "    style:{\"float\":\"left\"},\r",
                                            "    bigMode:true,\r",
                                            "    fileType:leType,\r",
                                            "});\r",
                                            "abstractcomponent.insert(0, mainField);"
                                        ],
                                        "name": "render",
                                        "scope": "me"
                                    },
                                    "designerId": "b2684d09-c1e6-485b-8bfe-7e706bd87607"
                                }
                            ]
                        },
                        {
                            "type": "container",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "layout|flex": 1,
                                "designer|userClassName": "MyContainer48",
                                "id": "DAMSEcondaryFieldsBox",
                                "margin": "10 0 0 20",
                                "padding": null,
                                "layout": "anchor"
                            },
                            "designerId": "00372f86-6219-41a4-82fb-2853c61cd555",
                            "cn": [
                                {
                                    "type": "container",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "layout|anchor": "100%",
                                        "designer|userClassName": "ChampTC",
                                        "designer|userAlias": "ChampTC",
                                        "designer|displayName": null,
                                        "padding": 10,
                                        "layout": "anchor"
                                    },
                                    "designerId": "93fa1895-60c7-4fd4-8996-ffdf20b6612d",
                                    "cn": [
                                        {
                                            "type": "button",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|userClassName": "MyButton17",
                                                "itemId": "helpBouton",
                                                "margin": null,
                                                "style": [
                                                    "{float:right;}"
                                                ],
                                                "allowDepress": null,
                                                "enableToggle": null,
                                                "handleMouseEvents": false,
                                                "iconCls": "help",
                                                "pressed": null,
                                                "pressedCls": "x-btn",
                                                "text": "",
                                                "tooltip": [
                                                    "'Titre du média. Obligatoire.'"
                                                ]
                                            },
                                            "designerId": "8a51a2c7-d9be-41e3-9282-a43ccad81b59"
                                        },
                                        {
                                            "type": "textfield",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "layout|anchor": "90%",
                                                "designer|userClassName": "MyTextField1",
                                                "id": null,
                                                "style": [
                                                    "{float:left}"
                                                ],
                                                "name": "title",
                                                "fieldLabel": "Titre *",
                                                "labelSeparator": " ",
                                                "allowBlank": false
                                            },
                                            "designerId": "05d25a1f-a063-44bc-8b95-e2d6afeeaeaa"
                                        }
                                    ]
                                },
                                {
                                    "type": "container",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "designer|userClassName": "ChampTC",
                                        "designer|userAlias": "ChampTC",
                                        "designer|displayName": null,
                                        "margin": null,
                                        "padding": 10,
                                        "layout": "anchor"
                                    },
                                    "designerId": "07fd700e-f2c9-4d2b-af48-91b2c3fdd39d",
                                    "cn": [
                                        {
                                            "type": "button",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|userClassName": "MyButton17",
                                                "itemId": "helpBouton",
                                                "margin": null,
                                                "style": [
                                                    "{float:right;}"
                                                ],
                                                "allowDepress": null,
                                                "enableToggle": null,
                                                "handleMouseEvents": false,
                                                "iconCls": "help",
                                                "pressed": null,
                                                "pressedCls": "x-btn",
                                                "text": "",
                                                "tooltip": [
                                                    "'Fichier principal du média. Obligatoire.'"
                                                ]
                                            },
                                            "designerId": "8f26dbc9-7440-449a-837c-d600f17da51f"
                                        },
                                        {
                                            "type": "filefield",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "layout|anchor": "90%",
                                                "designer|userClassName": "MyFileUpload3",
                                                "id": null,
                                                "style": [
                                                    "{float:left}"
                                                ],
                                                "name": "originalFileId",
                                                "fieldLabel": "Fichier original *",
                                                "labelSeparator": " ",
                                                "allowBlank": false
                                            },
                                            "designerId": "f7e05e8c-0cef-4bd0-8132-178a1d685c9e"
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "fieldset",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "designer|userClassName": "MyFieldSet18",
                        "id": "DAMTaxoBox",
                        "title": "Taxonomie"
                    },
                    "designerId": "5c318346-e147-484f-a9a0-56561f2f7a6b"
                },
                {
                    "type": "fieldset",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "designer|userClassName": "MyFieldSet18",
                        "title": "Espaces de travail"
                    },
                    "designerId": "162cf652-9ad8-4da0-8b19-916b2b6ddc3a",
                    "cn": [
                        {
                            "type": "linkedinstance",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "name": "writeWorkspace",
                                "fieldLabel": "Contribution",
                                "store": "ContributeWorkspacesCombo",
                                "layout|anchor": "90%"
                            },
                            "designerId": "5a81b33c-b742-488a-a36d-7dc5c789a486",
                            "masterInstanceId": "ExtBox1-ext-gen46360"
                        },
                        {
                            "type": "linkedinstance",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "name": "target",
                                "submitValue": null,
                                "fieldLabel": "Diffusion",
                                "multiSelect": true,
                                "store": "WorkspacesComboWithAll",
                                "layout|anchor": "90%"
                            },
                            "designerId": "16031190-6710-47f9-b9c2-634bf6641099",
                            "masterInstanceId": "ExtBox1-ext-gen46360"
                        }
                    ]
                }
            ]
        },
        {
            "type": "toolbar",
            "reference": {
                "name": "dockedItems",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "dock": "bottom",
                "designer|userClassName": "MyToolbar64"
            },
            "designerId": "05251599-1bff-4bbb-8363-53ce3f23941b",
            "cn": [
                {
                    "type": "tbfill",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "layout|flex": null,
                        "designer|userClassName": "MyFill30"
                    },
                    "designerId": "92ab0fc0-d9b4-49ca-be75-7dcdcfa11b38"
                },
                {
                    "type": "button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "layout|flex": null,
                        "designer|userClassName": "MyButton208",
                        "id": "DAMSubmitBtn",
                        "iconCls": "save",
                        "text": "Créer ce nouveau média"
                    },
                    "designerId": "98af620d-4c93-4c3b-8225-5330617d10a2"
                },
                {
                    "type": "button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "layout|flex": null,
                        "designer|userClassName": "MyButton208",
                        "hidden": true,
                        "id": "DAMSubmitUpdateBtn",
                        "iconCls": "save",
                        "text": "Enregistrer les modifications"
                    },
                    "designerId": "24802e93-70b2-4d8f-ab75-134a9d8217e4"
                },
                {
                    "type": "button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "layout|flex": null,
                        "designer|userClassName": "MyButton208",
                        "hidden": true,
                        "id": "DAMSwitchEditBtn",
                        "text": "Passer en mode édition"
                    },
                    "designerId": "16f1c5ca-40bc-430c-92fa-99645270b185"
                }
            ]
        }
    ]
}